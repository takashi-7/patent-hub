<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>違反コンテンツ管理 | Patent Hub システム管理</title>
    <meta name="description" content="Patent Hub システム管理者専用 - 違反コンテンツの監視と管理">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* システム管理画面専用スタイル */
        .system-admin-body {
            background: #f5f6fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* ヘッダー（システム管理者専用テーマ） */
        .system-admin-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-bottom: 3px solid #e74c3c;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .system-admin-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .system-admin-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
        }

        .system-admin-logo-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.4rem;
        }

        /* パンくずナビゲーション */
        .breadcrumb {
            background: white;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .breadcrumb-list {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            list-style: none;
            margin: 0;
            padding: 0;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb-link {
            color: #6c757d;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb-link:hover {
            color: #e74c3c;
        }

        .breadcrumb-current {
            color: #2c3e50;
            font-weight: 600;
        }

        /* メインコンテンツ */
        .system-admin-main {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .page-header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .page-subtitle {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        /* 警告バナー */
        .warning-banner {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
            border: 2px solid #d68910;
        }

        .warning-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* 統計カード */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-left: 4px solid;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card.reports { border-left-color: #e74c3c; }
        .stat-card.pending { border-left-color: #f39c12; }
        .stat-card.resolved { border-left-color: #27ae60; }
        .stat-card.false-positive { border-left-color: #3498db; }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #7f8c8d;
            font-weight: 600;
        }

        /* セクション */
        .section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
        }

        /* フィルターバー */
        .filter-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            font-size: 0.9rem;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 0.5rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .refresh-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
        }

        /* 報告テーブル */
        .reports-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .reports-table th {
            background: #f8f9fa;
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid #e9ecef;
            font-weight: 600;
            color: #495057;
        }

        .reports-table td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            vertical-align: middle;
        }

        .reports-table tr:hover {
            background: #f8f9fa;
        }

        /* ステータスバッジ */
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status-reviewing {
            background: #cce5ff;
            color: #004085;
            border: 1px solid #99d3ff;
        }

        .status-resolved {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-rejected {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* アクションボタン */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-view {
            background: #e3f2fd;
            color: #1976d2;
        }

        .btn-view:hover {
            background: #1976d2;
            color: white;
        }

        .btn-approve {
            background: #e8f5e8;
            color: #2e7d32;
        }

        .btn-approve:hover {
            background: #2e7d32;
            color: white;
        }

        .btn-reject {
            background: #ffebee;
            color: #c62828;
        }

        .btn-reject:hover {
            background: #c62828;
            color: white;
        }

        /* 詳細モーダル */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 80%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c3e50;
        }

        .close {
            color: #aaa;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #e74c3c;
        }

        /* レスポンシブデザイン */
        @media (max-width: 768px) {
            .system-admin-header .container,
            .system-admin-main,
            .breadcrumb-list {
                padding: 0 1rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .reports-table {
                font-size: 0.9rem;
            }

            .reports-table th,
            .reports-table td {
                padding: 0.75rem 0.5rem;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
        }
    </style>
</head>
<body class="system-admin-body">
    <!-- ヘッダー -->
    <header class="system-admin-header">
        <div class="container">
            <a href="index.html" class="system-admin-logo" style="text-decoration: none; color: inherit;">
                <div class="system-admin-logo-icon">🛡️</div>
                <span>Patent Hub システム管理</span>
            </a>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="color: white; font-weight: 600;">システム管理者</span>
                <button onclick="systemLogout()" style="background: transparent; border: 2px solid #e74c3c; color: #e74c3c; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer;">
                    ログアウト
                </button>
            </div>
        </div>
    </header>

    <!-- パンくずナビゲーション -->
    <nav class="breadcrumb">
        <ul class="breadcrumb-list">
            <li><a href="system-admin-dashboard.html" class="breadcrumb-link">🛡️ システム管理</a></li>
            <li>›</li>
            <li class="breadcrumb-current">違反コンテンツ管理</li>
        </ul>
    </nav>

    <!-- メインコンテンツ -->
    <main class="system-admin-main">
        <!-- ページヘッダー -->
        <div class="page-header">
            <h1 class="page-title">🚨 違反コンテンツ管理</h1>
            <p class="page-subtitle">報告されたコンテンツの審査と対応管理</p>
        </div>

        <!-- 警告バナー -->
        <div class="warning-banner">
            <div class="warning-icon">⚠️</div>
            <strong>機密性の高い操作</strong><br>
            このセクションではユーザーから報告された違反コンテンツの審査を行います。<br>
            すべての操作はログに記録され、適切な判断が求められます。
        </div>

        <!-- 統計カード -->
        <div class="stats-grid">
            <div class="stat-card reports">
                <div class="stat-icon">📋</div>
                <span class="stat-number" id="totalReports">23</span>
                <div class="stat-label">総報告数</div>
            </div>
            
            <div class="stat-card pending">
                <div class="stat-icon">⏳</div>
                <span class="stat-number" id="pendingReports">8</span>
                <div class="stat-label">審査待ち</div>
            </div>
            
            <div class="stat-card resolved">
                <div class="stat-icon">✅</div>
                <span class="stat-number" id="resolvedReports">12</span>
                <div class="stat-label">対応済み</div>
            </div>
            
            <div class="stat-card false-positive">
                <div class="stat-icon">❌</div>
                <span class="stat-number" id="falsePositive">3</span>
                <div class="stat-label">誤報</div>
            </div>
        </div>

        <!-- 報告一覧 -->
        <div class="section">
            <h2 class="section-title">
                📋 コンテンツ報告一覧
            </h2>
            
            <!-- フィルターバー -->
            <div class="filter-bar">
                <input type="text" class="search-input" placeholder="コンテンツID、報告者で検索..." id="reportsSearchInput">
                <select class="filter-select" id="statusFilter">
                    <option value="">すべてのステータス</option>
                    <option value="pending">審査待ち</option>
                    <option value="reviewing">審査中</option>
                    <option value="resolved">対応済み</option>
                    <option value="rejected">誤報</option>
                </select>
                <select class="filter-select" id="typeFilter">
                    <option value="">すべてのタイプ</option>
                    <option value="job">求人情報</option>
                    <option value="news">ニュース記事</option>
                    <option value="comment">コメント</option>
                    <option value="user">ユーザープロフィール</option>
                </select>
                <button class="refresh-btn" onclick="refreshReports()">
                    🔄 更新
                </button>
            </div>
            
            <table class="reports-table" id="reportsTable">
                <thead>
                    <tr>
                        <th>報告ID</th>
                        <th>コンテンツタイプ</th>
                        <th>違反理由</th>
                        <th>報告者</th>
                        <th>報告日時</th>
                        <th>ステータス</th>
                        <th>アクション</th>
                    </tr>
                </thead>
                <tbody id="reportsTableBody">
                    <tr>
                        <td><strong>RPT-001</strong></td>
                        <td>求人情報</td>
                        <td>不適切な労働条件</td>
                        <td>user123@example.com</td>
                        <td>2025-08-12 09:15</td>
                        <td><span class="status-badge status-pending">審査待ち</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn btn-view" onclick="viewReport('RPT-001')">詳細</button>
                                <button class="action-btn btn-approve" onclick="approveReport('RPT-001')">承認</button>
                                <button class="action-btn btn-reject" onclick="rejectReport('RPT-001')">却下</button>
                            </div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td><strong>RPT-002</strong></td>
                        <td>ニュース記事</td>
                        <td>誤情報・デマ</td>
                        <td>reporter@patent.com</td>
                        <td>2025-08-12 08:30</td>
                        <td><span class="status-badge status-reviewing">審査中</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn btn-view" onclick="viewReport('RPT-002')">詳細</button>
                                <button class="action-btn btn-approve" onclick="approveReport('RPT-002')">承認</button>
                                <button class="action-btn btn-reject" onclick="rejectReport('RPT-002')">却下</button>
                            </div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td><strong>RPT-003</strong></td>
                        <td>コメント</td>
                        <td>差別的発言</td>
                        <td>moderator@site.com</td>
                        <td>2025-08-11 16:45</td>
                        <td><span class="status-badge status-resolved">対応済み</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn btn-view" onclick="viewReport('RPT-003')">詳細</button>
                            </div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td><strong>RPT-004</strong></td>
                        <td>ユーザープロフィール</td>
                        <td>なりすまし</td>
                        <td>security@patent.jp</td>
                        <td>2025-08-11 14:20</td>
                        <td><span class="status-badge status-pending">審査待ち</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn btn-view" onclick="viewReport('RPT-004')">詳細</button>
                                <button class="action-btn btn-approve" onclick="approveReport('RPT-004')">承認</button>
                                <button class="action-btn btn-reject" onclick="rejectReport('RPT-004')">却下</button>
                            </div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td><strong>RPT-005</strong></td>
                        <td>求人情報</td>
                        <td>スパム・重複投稿</td>
                        <td>admin@company.co.jp</td>
                        <td>2025-08-11 11:10</td>
                        <td><span class="status-badge status-rejected">誤報</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn btn-view" onclick="viewReport('RPT-005')">詳細</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <\!-- フッター -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Patent Hub</h4>
                    <p>知的財産業界の情報プラットフォーム</p>
                </div>
                <div class="footer-section">
                    <h4>コンテンツ</h4>
                    <ul>
                        <li><a href="news.html">ニュース</a></li>
                        <li><a href="jobs.html">求人</a></li>
                        <li><a href="seminars.html">セミナー</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>サポート</h4>
                    <ul>
                        <li><a href="contact.html">お問い合わせ</a></li>
                        <li><a href="terms.html">利用規約</a></li>
                        <li><a href="privacy.html">プライバシーポリシー</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>管理者ログイン</h4>
                    <ul>
                        <li><a href="admin-login.html">企業管理者</a></li>
                        <li><a href="system-admin-login.html">システム管理者</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Patent Hub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- 詳細モーダル -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">報告詳細</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalBody">
                <!-- 動的に内容が挿入されます -->
            </div>
        </div>
    </div>

    <script>
        // 違反コンテンツ管理機能
        document.addEventListener('DOMContentLoaded', function() {
            console.log('違反コンテンツ管理画面が読み込まれました');
            checkSystemAuthentication();
            updateStats();
        });

        // システム管理者認証チェック
        function checkSystemAuthentication() {
            const sessionData = localStorage.getItem('system_admin_session');
            if (!sessionData) {
                window.location.href = 'system-admin-login.html';
                return;
            }
        }

        // 統計更新
        function updateStats() {
            const currentHour = new Date().getHours();
            
            // ランダムなバリエーションを追加（デモ用）
            document.getElementById('totalReports').textContent = 20 + (currentHour % 8);
            document.getElementById('pendingReports').textContent = 5 + (currentHour % 5);
            document.getElementById('resolvedReports').textContent = 10 + (currentHour % 6);
            document.getElementById('falsePositive').textContent = 2 + (currentHour % 3);
        }

        // 報告更新
        function refreshReports() {
            showNotification('報告リストを更新しました', 'success');
            logSecurityEvent('違反コンテンツ報告リスト更新', 'INFO');
            updateStats();
        }

        // 報告詳細表示
        function viewReport(reportId) {
            const reportDetails = {
                'RPT-001': {
                    id: 'RPT-001',
                    type: '求人情報',
                    reason: '不適切な労働条件',
                    reporter: 'user123@example.com',
                    content: '「残業代なし、24時間勤務可能な方優遇」という記載があり、労働基準法に違反する可能性がある内容です。',
                    contentUrl: '/jobs/detail?id=123',
                    reportDate: '2025-08-12 09:15'
                },
                'RPT-002': {
                    id: 'RPT-002',
                    type: 'ニュース記事',
                    reason: '誤情報・デマ',
                    reporter: 'reporter@patent.com',
                    content: '特許制度に関する誤った情報が含まれており、読者を混乱させる恐れがあります。',
                    contentUrl: '/news/detail?id=456',
                    reportDate: '2025-08-12 08:30'
                }
            };

            const report = reportDetails[reportId] || {
                id: reportId,
                type: '不明',
                reason: '詳細情報が見つかりません',
                reporter: '不明',
                content: '報告の詳細情報を取得できませんでした。',
                contentUrl: '#',
                reportDate: '不明'
            };

            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div style="margin-bottom: 1rem;">
                    <strong>報告ID:</strong> ${report.id}
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>コンテンツタイプ:</strong> ${report.type}
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>違反理由:</strong> ${report.reason}
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>報告者:</strong> ${report.reporter}
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>報告日時:</strong> ${report.reportDate}
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>コンテンツURL:</strong> <a href="${report.contentUrl}" target="_blank">${report.contentUrl}</a>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <strong>報告内容:</strong><br>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        ${report.content}
                    </div>
                </div>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button class="action-btn btn-approve" onclick="approveReport('${report.id}'); closeModal();" style="padding: 0.75rem 1.5rem;">✅ 承認</button>
                    <button class="action-btn btn-reject" onclick="rejectReport('${report.id}'); closeModal();" style="padding: 0.75rem 1.5rem;">❌ 却下</button>
                </div>
            `;

            document.getElementById('reportModal').style.display = 'block';
            logSecurityEvent(`違反報告詳細表示: ${reportId}`, 'INFO');
        }

        // モーダル閉じる
        function closeModal() {
            document.getElementById('reportModal').style.display = 'none';
        }

        // 報告承認
        function approveReport(reportId) {
            if (!confirm(`報告 ${reportId} を承認しますか？\nこの操作により、該当コンテンツが削除または修正されます。`)) return;
            
            showNotification(`報告 ${reportId} を承認しました`, 'success');
            logSecurityEvent(`違反報告承認: ${reportId}`, 'MODERATION');
            updateTableStatus(reportId, 'resolved');
        }

        // 報告却下
        function rejectReport(reportId) {
            if (!confirm(`報告 ${reportId} を却下しますか？\nこの報告は誤報として処理されます。`)) return;
            
            showNotification(`報告 ${reportId} を却下しました`, 'warning');
            logSecurityEvent(`違反報告却下: ${reportId}`, 'MODERATION');
            updateTableStatus(reportId, 'rejected');
        }

        // テーブルステータス更新
        function updateTableStatus(reportId, newStatus) {
            const rows = document.querySelectorAll('#reportsTableBody tr');
            rows.forEach(row => {
                const idCell = row.querySelector('td:first-child strong');
                if (idCell && idCell.textContent === reportId) {
                    const statusCell = row.querySelector('.status-badge');
                    statusCell.className = `status-badge status-${newStatus}`;
                    
                    const statusText = {
                        'pending': '審査待ち',
                        'reviewing': '審査中',
                        'resolved': '対応済み',
                        'rejected': '誤報'
                    };
                    
                    statusCell.textContent = statusText[newStatus];
                    
                    // アクションボタンを更新
                    const actionButtons = row.querySelector('.action-buttons');
                    if (newStatus === 'resolved' || newStatus === 'rejected') {
                        actionButtons.innerHTML = '<button class="action-btn btn-view" onclick="viewReport(\'' + reportId + '\')">詳細</button>';
                    }
                }
            });
            updateStats();
        }

        // フィルター機能
        function filterReports() {
            const search = document.getElementById('reportsSearchInput').value.toLowerCase();
            const status = document.getElementById('statusFilter').value;
            const type = document.getElementById('typeFilter').value;
            
            const rows = document.querySelectorAll('#reportsTableBody tr');
            
            rows.forEach(row => {
                const reportId = row.querySelector('td:nth-child(1)').textContent.toLowerCase();
                const contentType = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
                const reporter = row.querySelector('td:nth-child(4)').textContent.toLowerCase();
                const statusText = row.querySelector('.status-badge').className;
                
                const searchMatch = !search || reportId.includes(search) || reporter.includes(search);
                const statusMatch = !status || statusText.includes(status);
                const typeMatch = !type || contentType.includes(type);
                
                if (searchMatch && statusMatch && typeMatch) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // イベントリスナー設定
        document.getElementById('reportsSearchInput')?.addEventListener('input', filterReports);
        document.getElementById('statusFilter')?.addEventListener('change', filterReports);
        document.getElementById('typeFilter')?.addEventListener('change', filterReports);

        // セキュリティイベントログ
        function logSecurityEvent(action, level) {
            console.log(`🚨 [${level}] ${new Date().toLocaleString()}: ${action}`);
        }

        // システム管理者ログアウト
        function systemLogout() {
            if (confirm('システム管理者セッションを終了しますか？')) {
                localStorage.removeItem('system_admin_session');
                window.location.href = 'system-admin-login.html';
            }
        }

        // 通知表示
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 10001;
                opacity: 0;
                transform: translateY(-20px);
                transition: all 0.3s ease;
                min-width: 300px;
            `;

            const colors = {
                'success': '#27ae60',
                'error': '#e74c3c',
                'warning': '#f39c12',
                'info': '#3498db'
            };

            notification.style.background = colors[type] || colors.info;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateY(0)';
            }, 100);

            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // モーダルクリックで閉じる
        window.onclick = function(event) {
            const modal = document.getElementById('reportModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        console.log('🚨 Patent Hub 違反コンテンツ管理 - 初期化完了');
    </script>
</body>
</html>