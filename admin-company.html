<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼æ¥­æƒ…å ±ç·¨é›† | Patent Hub ä¼æ¥­ç®¡ç†ç”»é¢</title>
    <meta name="description" content="Patent Hub ä¼æ¥­ç®¡ç†ç”»é¢ - ä¼æ¥­æƒ…å ±ã®ç·¨é›†ãƒ»æ›´æ–°æ©Ÿèƒ½">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ç®¡ç†ç”»é¢å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .admin-body {
            background: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨å…±é€šï¼‰ */
        .admin-header {
            background: white;
            border-bottom: 1px solid #e9ecef;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .admin-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .admin-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: #1e3c72;
        }
        
        .admin-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .admin-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .nav-link {
            color: #6c757d;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
            color: #1e3c72;
        }
        
        .admin-user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        .logout-btn {
            background: none;
            border: 1px solid #6c757d;
            color: #6c757d;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .admin-main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .page-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-link {
            color: #6c757d;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s;
        }
        
        .back-link:hover {
            color: #1e3c72;
        }
        
        /* æƒ…å ±ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ  */
        .company-form-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        
        .form-section {
            margin-bottom: 3rem;
        }
        
        .form-section:last-child {
            margin-bottom: 0;
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.75rem;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }
        
        .required {
            color: #dc3545;
            margin-left: 0.25rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            box-sizing: border-box;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.1);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
        
        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            box-sizing: border-box;
        }
        
        .form-select:focus {
            outline: none;
            border-color: #1e3c72;
        }
        
        /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãƒ»ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ */
        .checkbox-group,
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .checkbox-input,
        .radio-input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .checkbox-label,
        .radio-label {
            font-size: 0.95rem;
            color: #495057;
            cursor: pointer;
        }
        
        /* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */
        .file-upload {
            border: 2px dashed #e9ecef;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .file-upload:hover {
            border-color: #1e3c72;
            background: #f8f9fa;
        }
        
        .file-upload.dragover {
            border-color: #28a745;
            background: #f8fff9;
        }
        
        .file-upload-icon {
            font-size: 3rem;
            color: #6c757d;
            margin-bottom: 1rem;
        }
        
        .file-upload-text {
            color: #6c757d;
            margin-bottom: 0.5rem;
        }
        
        .file-upload-input {
            display: none;
        }
        
        .uploaded-file {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .remove-file {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        /* ã‚¿ã‚°å…¥åŠ› */
        .tag-input-container {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.5rem;
            min-height: 80px;
            cursor: text;
        }
        
        .tag-input-container:focus-within {
            border-color: #1e3c72;
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.1);
        }
        
        .tags-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .tag-item {
            background: #1e3c72;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .tag-remove {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .tag-remove:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .tag-input {
            border: none;
            outline: none;
            font-size: 1rem;
            flex: 1;
            min-width: 150px;
        }
        
        /* ä¿å­˜ãƒœã‚¿ãƒ³ */
        .form-actions {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }
        
        .save-btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(30, 60, 114, 0.3);
        }
        
        .save-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .cancel-btn {
            background: white;
            color: #6c757d;
            border: 2px solid #e9ecef;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .cancel-btn:hover {
            border-color: #6c757d;
            color: #495057;
        }
        
        /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .preview-section {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .preview-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .company-preview {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 768px) {
            .admin-header .container,
            .admin-main {
                padding: 0 1rem;
            }
            
            .page-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                flex-direction: column-reverse;
            }
            
            .admin-nav {
                display: none;
            }
            
            .checkbox-group,
            .radio-group {
                flex-direction: column;
                gap: 0.75rem;
            }
        }
    </style>
</head>
<body class="admin-body">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="admin-header">
        <div class="container">
            <a href="index.html" class="admin-logo" style="text-decoration: none; color: inherit;">
                <div class="admin-logo-icon">ğŸ¢</div>
                <span>Patent Hub ç®¡ç†ç”»é¢</span>
            </a>
            <nav class="admin-nav">
                <a href="admin-dashboard.html" class="nav-link">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
                <a href="admin-jobs.html" class="nav-link">æ±‚äººç®¡ç†</a>
                <a href="admin-applications.html" class="nav-link">å¿œå‹Ÿè€…ç®¡ç†</a>
                <a href="admin-company.html" class="nav-link active">ä¼æ¥­æƒ…å ±</a>
            </nav>
            <div class="admin-user-info">
                <div class="user-avatar" id="userAvatar">A</div>
                <button class="logout-btn" onclick="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
            </div>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="admin-main">
        <!-- ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="page-header">
            <h1 class="page-title">
                ğŸ¢ ä¼æ¥­æƒ…å ±ç·¨é›†
            </h1>
            <a href="admin-dashboard.html" class="back-link">
                â† ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹
            </a>
        </div>

        <!-- ä¼æ¥­æƒ…å ±ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ  -->
        <div class="company-form-container">
            <form id="companyForm">
                <!-- åŸºæœ¬æƒ…å ± -->
                <div class="form-section">
                    <h2 class="section-title">
                        ğŸ“‹ åŸºæœ¬æƒ…å ±
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="companyName">
                                ä¼æ¥­å<span class="required">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="companyName" 
                                class="form-input" 
                                placeholder="æ ªå¼ä¼šç¤¾â—‹â—‹ç‰¹è¨±äº‹å‹™æ‰€"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="companyNameEn">
                                ä¼æ¥­åï¼ˆè‹±èªï¼‰
                            </label>
                            <input 
                                type="text" 
                                id="companyNameEn" 
                                class="form-input" 
                                placeholder="ABC Patent Office Co., Ltd."
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="companyType">
                                ä¼æ¥­å½¢æ…‹<span class="required">*</span>
                            </label>
                            <select id="companyType" class="form-select" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="ç‰¹è¨±äº‹å‹™æ‰€">ç‰¹è¨±äº‹å‹™æ‰€</option>
                                <option value="æ³•å¾‹äº‹å‹™æ‰€">æ³•å¾‹äº‹å‹™æ‰€</option>
                                <option value="ä¸€èˆ¬ä¼æ¥­çŸ¥è²¡éƒ¨">ä¸€èˆ¬ä¼æ¥­çŸ¥è²¡éƒ¨</option>
                                <option value="ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°">ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°</option>
                                <option value="ãã®ä»–">ãã®ä»–</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="establishedYear">
                                è¨­ç«‹å¹´
                            </label>
                            <input 
                                type="number" 
                                id="establishedYear" 
                                class="form-input" 
                                placeholder="2000"
                                min="1900"
                                max="2025"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="employeeCount">
                                å¾“æ¥­å“¡æ•°
                            </label>
                            <select id="employeeCount" class="form-select">
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="1-5å">1-5å</option>
                                <option value="6-20å">6-20å</option>
                                <option value="21-50å">21-50å</option>
                                <option value="51-100å">51-100å</option>
                                <option value="101åä»¥ä¸Š">101åä»¥ä¸Š</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="website">
                                ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ
                            </label>
                            <input 
                                type="url" 
                                id="website" 
                                class="form-input" 
                                placeholder="https://www.example.com"
                            >
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label class="form-label" for="companyDescription">
                            ä¼æ¥­ç´¹ä»‹<span class="required">*</span>
                        </label>
                        <textarea 
                            id="companyDescription" 
                            class="form-input form-textarea" 
                            placeholder="ä¼æ¥­ã®æ¦‚è¦ã€ç‰¹å¾´ã€å¼·ã¿ãªã©ã‚’ã”è¨˜å…¥ãã ã•ã„..."
                            required
                        ></textarea>
                    </div>
                </div>

                <!-- æ‰€åœ¨åœ°æƒ…å ± -->
                <div class="form-section">
                    <h2 class="section-title">
                        ğŸ“ æ‰€åœ¨åœ°æƒ…å ±
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="prefecture">
                                éƒ½é“åºœçœŒ<span class="required">*</span>
                            </label>
                            <select id="prefecture" class="form-select" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="åŒ—æµ·é“">åŒ—æµ·é“</option>
                                <option value="é’æ£®çœŒ">é’æ£®çœŒ</option>
                                <option value="å²©æ‰‹çœŒ">å²©æ‰‹çœŒ</option>
                                <option value="å®®åŸçœŒ">å®®åŸçœŒ</option>
                                <option value="ç§‹ç”°çœŒ">ç§‹ç”°çœŒ</option>
                                <option value="å±±å½¢çœŒ">å±±å½¢çœŒ</option>
                                <option value="ç¦å³¶çœŒ">ç¦å³¶çœŒ</option>
                                <option value="èŒ¨åŸçœŒ">èŒ¨åŸçœŒ</option>
                                <option value="æ ƒæœ¨çœŒ">æ ƒæœ¨çœŒ</option>
                                <option value="ç¾¤é¦¬çœŒ">ç¾¤é¦¬çœŒ</option>
                                <option value="åŸ¼ç‰çœŒ">åŸ¼ç‰çœŒ</option>
                                <option value="åƒè‘‰çœŒ">åƒè‘‰çœŒ</option>
                                <option value="æ±äº¬éƒ½">æ±äº¬éƒ½</option>
                                <option value="ç¥å¥ˆå·çœŒ">ç¥å¥ˆå·çœŒ</option>
                                <option value="æ–°æ½ŸçœŒ">æ–°æ½ŸçœŒ</option>
                                <option value="å¯Œå±±çœŒ">å¯Œå±±çœŒ</option>
                                <option value="çŸ³å·çœŒ">çŸ³å·çœŒ</option>
                                <option value="ç¦äº•çœŒ">ç¦äº•çœŒ</option>
                                <option value="å±±æ¢¨çœŒ">å±±æ¢¨çœŒ</option>
                                <option value="é•·é‡çœŒ">é•·é‡çœŒ</option>
                                <option value="å²é˜œçœŒ">å²é˜œçœŒ</option>
                                <option value="é™å²¡çœŒ">é™å²¡çœŒ</option>
                                <option value="æ„›çŸ¥çœŒ">æ„›çŸ¥çœŒ</option>
                                <option value="ä¸‰é‡çœŒ">ä¸‰é‡çœŒ</option>
                                <option value="æ»‹è³€çœŒ">æ»‹è³€çœŒ</option>
                                <option value="äº¬éƒ½åºœ">äº¬éƒ½åºœ</option>
                                <option value="å¤§é˜ªåºœ">å¤§é˜ªåºœ</option>
                                <option value="å…µåº«çœŒ">å…µåº«çœŒ</option>
                                <option value="å¥ˆè‰¯çœŒ">å¥ˆè‰¯çœŒ</option>
                                <option value="å’Œæ­Œå±±çœŒ">å’Œæ­Œå±±çœŒ</option>
                                <option value="é³¥å–çœŒ">é³¥å–çœŒ</option>
                                <option value="å³¶æ ¹çœŒ">å³¶æ ¹çœŒ</option>
                                <option value="å²¡å±±çœŒ">å²¡å±±çœŒ</option>
                                <option value="åºƒå³¶çœŒ">åºƒå³¶çœŒ</option>
                                <option value="å±±å£çœŒ">å±±å£çœŒ</option>
                                <option value="å¾³å³¶çœŒ">å¾³å³¶çœŒ</option>
                                <option value="é¦™å·çœŒ">é¦™å·çœŒ</option>
                                <option value="æ„›åª›çœŒ">æ„›åª›çœŒ</option>
                                <option value="é«˜çŸ¥çœŒ">é«˜çŸ¥çœŒ</option>
                                <option value="ç¦å²¡çœŒ">ç¦å²¡çœŒ</option>
                                <option value="ä½è³€çœŒ">ä½è³€çœŒ</option>
                                <option value="é•·å´çœŒ">é•·å´çœŒ</option>
                                <option value="ç†Šæœ¬çœŒ">ç†Šæœ¬çœŒ</option>
                                <option value="å¤§åˆ†çœŒ">å¤§åˆ†çœŒ</option>
                                <option value="å®®å´çœŒ">å®®å´çœŒ</option>
                                <option value="é¹¿å…å³¶çœŒ">é¹¿å…å³¶çœŒ</option>
                                <option value="æ²–ç¸„çœŒ">æ²–ç¸„çœŒ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="city">
                                å¸‚åŒºç”ºæ‘<span class="required">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="city" 
                                class="form-input" 
                                placeholder="æ¸¯åŒº"
                                required
                            >
                        </div>
                        
                        <div class="form-group full-width">
                            <label class="form-label" for="fullAddress">
                                ä½æ‰€<span class="required">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="fullAddress" 
                                class="form-input" 
                                placeholder="æ±äº¬éƒ½æ¸¯åŒºèµ¤å‚1-2-3 â—‹â—‹ãƒ“ãƒ«5éš"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="nearestStation">
                                æœ€å¯„ã‚Šé§…
                            </label>
                            <input 
                                type="text" 
                                id="nearestStation" 
                                class="form-input" 
                                placeholder="èµ¤å‚é§… å¾’æ­©3åˆ†"
                            >
                        </div>
                    </div>
                </div>

                <!-- é€£çµ¡å…ˆæƒ…å ± -->
                <div class="form-section">
                    <h2 class="section-title">
                        ğŸ“ é€£çµ¡å…ˆæƒ…å ±
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="phoneNumber">
                                é›»è©±ç•ªå·<span class="required">*</span>
                            </label>
                            <input 
                                type="tel" 
                                id="phoneNumber" 
                                class="form-input" 
                                placeholder="03-1234-5678"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="faxNumber">
                                FAXç•ªå·
                            </label>
                            <input 
                                type="tel" 
                                id="faxNumber" 
                                class="form-input" 
                                placeholder="03-1234-5679"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="contactEmail">
                                é€£çµ¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="required">*</span>
                            </label>
                            <input 
                                type="email" 
                                id="contactEmail" 
                                class="form-input" 
                                placeholder="contact@example.com"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="hrEmail">
                                æ¡ç”¨æ‹…å½“ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
                            </label>
                            <input 
                                type="email" 
                                id="hrEmail" 
                                class="form-input" 
                                placeholder="hr@example.com"
                            >
                        </div>
                    </div>
                </div>

                <!-- å°‚é–€åˆ†é‡ãƒ»å¼·ã¿ -->
                <div class="form-section">
                    <h2 class="section-title">
                        ğŸ’¼ å°‚é–€åˆ†é‡ãƒ»å¼·ã¿
                    </h2>
                    
                    <div class="form-group">
                        <label class="form-label">
                            å°‚é–€åˆ†é‡<span class="required">*</span>
                        </label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-patent" class="checkbox-input" value="ç‰¹è¨±">
                                <label for="field-patent" class="checkbox-label">ç‰¹è¨±</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-trademark" class="checkbox-input" value="å•†æ¨™">
                                <label for="field-trademark" class="checkbox-label">å•†æ¨™</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-design" class="checkbox-input" value="æ„åŒ ">
                                <label for="field-design" class="checkbox-label">æ„åŒ </label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-copyright" class="checkbox-input" value="è‘—ä½œæ¨©">
                                <label for="field-copyright" class="checkbox-label">è‘—ä½œæ¨©</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-trade-secret" class="checkbox-input" value="å–¶æ¥­ç§˜å¯†">
                                <label for="field-trade-secret" class="checkbox-label">å–¶æ¥­ç§˜å¯†</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="field-litigation" class="checkbox-input" value="çŸ¥è²¡è¨´è¨Ÿ">
                                <label for="field-litigation" class="checkbox-label">çŸ¥è²¡è¨´è¨Ÿ</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            æŠ€è¡“åˆ†é‡
                        </label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-mechanical" class="checkbox-input" value="æ©Ÿæ¢°">
                                <label for="tech-mechanical" class="checkbox-label">æ©Ÿæ¢°</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-electrical" class="checkbox-input" value="é›»æ°—ãƒ»é›»å­">
                                <label for="tech-electrical" class="checkbox-label">é›»æ°—ãƒ»é›»å­</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-chemical" class="checkbox-input" value="åŒ–å­¦">
                                <label for="tech-chemical" class="checkbox-label">åŒ–å­¦</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-bio" class="checkbox-input" value="ãƒã‚¤ã‚ªãƒ»åŒ»è–¬">
                                <label for="tech-bio" class="checkbox-label">ãƒã‚¤ã‚ªãƒ»åŒ»è–¬</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-it" class="checkbox-input" value="ITãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢">
                                <label for="tech-it" class="checkbox-label">ITãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tech-ai" class="checkbox-input" value="AIãƒ»IoT">
                                <label for="tech-ai" class="checkbox-label">AIãƒ»IoT</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="companyStrengths">
                            ä¼æ¥­ã®å¼·ã¿ãƒ»ç‰¹å¾´
                        </label>
                        <textarea 
                            id="companyStrengths" 
                            class="form-input form-textarea" 
                            placeholder="ä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–è¦å› ã€ç‹¬è‡ªã®å¼·ã¿ã€ã‚µãƒ¼ãƒ“ã‚¹ã®ç‰¹å¾´ãªã©ã‚’ã”è¨˜å…¥ãã ã•ã„..."
                        ></textarea>
                    </div>
                </div>

                <!-- ä¼æ¥­ãƒ­ã‚´ãƒ»ç”»åƒ -->
                <div class="form-section">
                    <h2 class="section-title">
                        ğŸ–¼ï¸ ä¼æ¥­ãƒ­ã‚´ãƒ»ç”»åƒ
                    </h2>
                    
                    <div class="form-group">
                        <label class="form-label">
                            ä¼æ¥­ãƒ­ã‚´
                        </label>
                        <div class="file-upload" onclick="document.getElementById('logoUpload').click()">
                            <div class="file-upload-icon">ğŸ¢</div>
                            <div class="file-upload-text">ä¼æ¥­ãƒ­ã‚´ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">PNG, JPGå½¢å¼ (æœ€å¤§2MB)</div>
                        </div>
                        <input type="file" id="logoUpload" class="file-upload-input" accept="image/*">
                        <div id="logoPreview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            ã‚ªãƒ•ã‚£ã‚¹å†™çœŸ
                        </label>
                        <div class="file-upload" onclick="document.getElementById('officeUpload').click()">
                            <div class="file-upload-icon">ğŸ“¸</div>
                            <div class="file-upload-text">ã‚ªãƒ•ã‚£ã‚¹å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">PNG, JPGå½¢å¼ (æœ€å¤§5MB)</div>
                        </div>
                        <input type="file" id="officeUpload" class="file-upload-input" accept="image/*">
                        <div id="officePreview"></div>
                    </div>
                </div>

                <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="resetForm()">
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                    <button type="submit" class="save-btn" id="saveBtn">
                        ğŸ’¾ ä¿å­˜ã™ã‚‹
                    </button>
                </div>
            </form>
        </div>

        <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="preview-section">
            <h2 class="preview-title">
                ğŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
            </h2>
            <div class="company-preview" id="companyPreview">
                <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
            </div>
        </div>
    </main>

    <script>
        // ä¼æ¥­æƒ…å ±ç·¨é›†æ©Ÿèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ä¼æ¥­æƒ…å ±ç·¨é›†ç”»é¢ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
            
            // èªè¨¼ãƒã‚§ãƒƒã‚¯
            checkAuthentication();
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’èª­ã¿è¾¼ã¿
            loadUserInfo();
            
            // æ—¢å­˜ã®ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
            loadCompanyData();
            
            // ãƒ•ã‚©ãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’åˆæœŸåŒ–
            initializeFormEvents();
            
            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’åˆæœŸåŒ–
            updatePreview();
            
            console.log('âœ… ä¼æ¥­æƒ…å ±ç·¨é›†ç”»é¢ã®åˆæœŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸ');
        });
        
        // ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
        function loadCompanyData() {
            const sessionData = localStorage.getItem('admin_session');
            if (!sessionData) return;
            
            const session = JSON.parse(sessionData);
            const companyId = session.companyId;
            
            // æ—¢å­˜ã®ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆå®Ÿéš›ã¯APIã‹ã‚‰å–å¾—ï¼‰
            const companyData = getCompanyData(companyId);
            
            if (companyData) {
                populateForm(companyData);
                console.log('æ—¢å­˜ã®ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ');
            }
        }
        
        // ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­ãƒ‡ãƒ¼ã‚¿å–å¾—
        function getCompanyData(companyId) {
            const sampleData = {
                'COMPANY_ABC': {
                    companyName: 'ç‰¹è¨±äº‹å‹™æ‰€ABC',
                    companyNameEn: 'ABC Patent Office',
                    companyType: 'ç‰¹è¨±äº‹å‹™æ‰€',
                    establishedYear: 2010,
                    employeeCount: '21-50å',
                    website: 'https://www.abc-patent.com',
                    companyDescription: 'ç‰¹è¨±ãƒ»å•†æ¨™ãƒ»æ„åŒ ã‚’ä¸­å¿ƒã¨ã—ãŸçŸ¥çš„è²¡ç”£ã®ç·åˆã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã™ã‚‹ç‰¹è¨±äº‹å‹™æ‰€ã§ã™ã€‚è±Šå¯ŒãªçµŒé¨“ã¨å°‚é–€çŸ¥è­˜ã§ã€ãŠå®¢æ§˜ã®çŸ¥çš„è²¡ç”£æˆ¦ç•¥ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
                    prefecture: 'æ±äº¬éƒ½',
                    city: 'æ¸¯åŒº',
                    fullAddress: 'æ±äº¬éƒ½æ¸¯åŒºèµ¤å‚1-2-3 ABCãƒ“ãƒ«5éš',
                    nearestStation: 'èµ¤å‚é§… å¾’æ­©3åˆ†',
                    phoneNumber: '03-1234-5678',
                    faxNumber: '03-1234-5679',
                    contactEmail: 'contact@abc-patent.com',
                    hrEmail: 'hr@abc-patent.com',
                    specialFields: ['ç‰¹è¨±', 'å•†æ¨™', 'æ„åŒ '],
                    techFields: ['æ©Ÿæ¢°', 'é›»æ°—ãƒ»é›»å­', 'ITãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢'],
                    companyStrengths: 'ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å¤§ä¼æ¥­ã¾ã§å¹…åºƒã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã€‚è‹±èªå¯¾å¿œå¯èƒ½ã§å›½éš›å‡ºé¡˜ã«ã‚‚å¼·ã¿ãŒã‚ã‚Šã¾ã™ã€‚'
                },
                'COMPANY_XYZ': {
                    companyName: 'æ ªå¼ä¼šç¤¾XYZçŸ¥è²¡éƒ¨',
                    companyNameEn: 'XYZ Corporation IP Department',
                    companyType: 'ä¸€èˆ¬ä¼æ¥­çŸ¥è²¡éƒ¨',
                    establishedYear: 1995,
                    employeeCount: '101åä»¥ä¸Š',
                    website: 'https://www.xyz-corp.co.jp',
                    companyDescription: 'è£½é€ æ¥­å¤§æ‰‹ä¼æ¥­ã®çŸ¥çš„è²¡ç”£éƒ¨é–€ã¨ã—ã¦ã€è‡ªç¤¾æŠ€è¡“ã®æ¨©åˆ©åŒ–ã‹ã‚‰ä»–ç¤¾ç‰¹è¨±ã®èª¿æŸ»ãƒ»åˆ†æã¾ã§å¹…åºƒãæ‰‹ãŒã‘ã¦ã„ã¾ã™ã€‚',
                    prefecture: 'å¤§é˜ªåºœ',
                    city: 'å¤§é˜ªå¸‚',
                    fullAddress: 'å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®åŒºæœ¬ç”º2-3-4 XYZã‚¿ãƒ¯ãƒ¼10éš',
                    nearestStation: 'æœ¬ç”ºé§… ç›´çµ',
                    phoneNumber: '06-1234-5678',
                    contactEmail: 'ip@xyz-corp.co.jp',
                    hrEmail: 'recruit@xyz-corp.co.jp',
                    specialFields: ['ç‰¹è¨±', 'å–¶æ¥­ç§˜å¯†'],
                    techFields: ['æ©Ÿæ¢°', 'åŒ–å­¦', 'ãƒã‚¤ã‚ªãƒ»åŒ»è–¬'],
                    companyStrengths: 'é•·å¹´ã«ã‚ãŸã‚‹è£½é€ æ¥­ã§ã®çµŒé¨“ã‚’æ´»ã‹ã—ãŸå®Ÿè·µçš„ãªçŸ¥è²¡æˆ¦ç•¥ã‚’å±•é–‹ã€‚ã‚°ãƒ­ãƒ¼ãƒãƒ«å±•é–‹ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚'
                }
            };
            
            return sampleData[companyId] || null;
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›
        function populateForm(data) {
            // åŸºæœ¬æƒ…å ±
            document.getElementById('companyName').value = data.companyName || '';
            document.getElementById('companyNameEn').value = data.companyNameEn || '';
            document.getElementById('companyType').value = data.companyType || '';
            document.getElementById('establishedYear').value = data.establishedYear || '';
            document.getElementById('employeeCount').value = data.employeeCount || '';
            document.getElementById('website').value = data.website || '';
            document.getElementById('companyDescription').value = data.companyDescription || '';
            
            // æ‰€åœ¨åœ°
            document.getElementById('prefecture').value = data.prefecture || '';
            document.getElementById('city').value = data.city || '';
            document.getElementById('fullAddress').value = data.fullAddress || '';
            document.getElementById('nearestStation').value = data.nearestStation || '';
            
            // é€£çµ¡å…ˆ
            document.getElementById('phoneNumber').value = data.phoneNumber || '';
            document.getElementById('faxNumber').value = data.faxNumber || '';
            document.getElementById('contactEmail').value = data.contactEmail || '';
            document.getElementById('hrEmail').value = data.hrEmail || '';
            
            // å°‚é–€åˆ†é‡
            if (data.specialFields) {
                data.specialFields.forEach(field => {
                    const checkbox = document.querySelector(`input[value="${field}"]`);
                    if (checkbox) checkbox.checked = true;
                });
            }
            
            // æŠ€è¡“åˆ†é‡
            if (data.techFields) {
                data.techFields.forEach(field => {
                    const checkbox = document.querySelector(`input[value="${field}"]`);
                    if (checkbox) checkbox.checked = true;
                });
            }
            
            // å¼·ã¿
            document.getElementById('companyStrengths').value = data.companyStrengths || '';
            
            updatePreview();
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆåˆæœŸåŒ–
        function initializeFormEvents() {
            // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°
            const formInputs = document.querySelectorAll('.form-input, .form-select, .checkbox-input');
            formInputs.forEach(input => {
                input.addEventListener('input', updatePreview);
                input.addEventListener('change', updatePreview);
            });
            
            // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            setupFileUploads();
            
            // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
            document.getElementById('companyForm').addEventListener('submit', handleFormSubmit);
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰è¨­å®š
        function setupFileUploads() {
            // ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            document.getElementById('logoUpload').addEventListener('change', function(e) {
                handleFileUpload(e, 'logoPreview', 'ä¼æ¥­ãƒ­ã‚´');
            });
            
            // ã‚ªãƒ•ã‚£ã‚¹å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            document.getElementById('officeUpload').addEventListener('change', function(e) {
                handleFileUpload(e, 'officePreview', 'ã‚ªãƒ•ã‚£ã‚¹å†™çœŸ');
            });
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
        function handleFileUpload(event, previewId, label) {
            const file = event.target.files[0];
            if (!file) return;
            
            // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
            const maxSize = label === 'ä¼æ¥­ãƒ­ã‚´' ? 2 * 1024 * 1024 : 5 * 1024 * 1024;
            if (file.size > maxSize) {
                alert(`ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™ã€‚${maxSize / (1024 * 1024)}MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚`);
                return;
            }
            
            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewContainer = document.getElementById(previewId);
                previewContainer.innerHTML = `
                    <div class="uploaded-file">
                        <div class="file-info">
                            <span>ğŸ“ ${file.name}</span>
                            <span style="font-size: 0.8rem; color: #6c757d;">(${(file.size / 1024).toFixed(1)}KB)</span>
                        </div>
                        <button type="button" class="remove-file" onclick="removeFile('${previewId}', '${event.target.id}')">
                            å‰Šé™¤
                        </button>
                    </div>
                `;
            };
            reader.readAsDataURL(file);
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
        function removeFile(previewId, inputId) {
            document.getElementById(previewId).innerHTML = '';
            document.getElementById(inputId).value = '';
        }
        
        // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°
        function updatePreview() {
            const preview = document.getElementById('companyPreview');
            
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            const formData = getFormData();
            
            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼HTMLç”Ÿæˆ
            preview.innerHTML = `
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                    <div style="width: 80px; height: 80px; background: #f8f9fa; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">
                        ğŸ¢
                    </div>
                    <div>
                        <h2 style="margin: 0 0 0.5rem 0; color: #1e3c72; font-size: 1.5rem;">
                            ${formData.companyName || 'ä¼æ¥­åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}
                        </h2>
                        <div style="color: #6c757d; margin-bottom: 0.25rem;">
                            ${formData.companyType || 'ä¼æ¥­å½¢æ…‹'} ${formData.establishedYear ? `| ${formData.establishedYear}å¹´è¨­ç«‹` : ''} ${formData.employeeCount ? `| ${formData.employeeCount}` : ''}
                        </div>
                        <div style="color: #6c757d;">
                            ğŸ“ ${formData.fullAddress || 'ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: #2c3e50; margin-bottom: 1rem;">ä¼æ¥­ç´¹ä»‹</h3>
                    <p style="line-height: 1.6; color: #495057;">
                        ${formData.companyDescription || 'ä¼æ¥­ç´¹ä»‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}
                    </p>
                </div>
                
                ${formData.specialFields.length > 0 ? `
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: #2c3e50; margin-bottom: 1rem;">å°‚é–€åˆ†é‡</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            ${formData.specialFields.map(field => 
                                `<span style="background: #e3f2fd; color: #1565c0; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.9rem;">${field}</span>`
                            ).join('')}
                        </div>
                    </div>
                ` : ''}
                
                ${formData.techFields.length > 0 ? `
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: #2c3e50; margin-bottom: 1rem;">æŠ€è¡“åˆ†é‡</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            ${formData.techFields.map(field => 
                                `<span style="background: #f3e5f5; color: #7b1fa2; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.9rem;">${field}</span>`
                            ).join('')}
                        </div>
                    </div>
                ` : ''}
                
                ${formData.companyStrengths ? `
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: #2c3e50; margin-bottom: 1rem;">ä¼æ¥­ã®å¼·ã¿</h3>
                        <p style="line-height: 1.6; color: #495057;">
                            ${formData.companyStrengths}
                        </p>
                    </div>
                ` : ''}
                
                <div>
                    <h3 style="color: #2c3e50; margin-bottom: 1rem;">ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ±</h3>
                    <div style="color: #495057;">
                        <div style="margin-bottom: 0.5rem;">ğŸ“ ${formData.phoneNumber || 'é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}</div>
                        <div style="margin-bottom: 0.5rem;">ğŸ“§ ${formData.contactEmail || 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}</div>
                        ${formData.website ? `<div style="margin-bottom: 0.5rem;">ğŸŒ <a href="${formData.website}" target="_blank">${formData.website}</a></div>` : ''}
                        ${formData.nearestStation ? `<div>ğŸš‡ ${formData.nearestStation}</div>` : ''}
                    </div>
                </div>
            `;
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        function getFormData() {
            // å°‚é–€åˆ†é‡å–å¾—
            const specialFields = Array.from(document.querySelectorAll('input[id^="field-"]:checked'))
                .map(checkbox => checkbox.value);
            
            // æŠ€è¡“åˆ†é‡å–å¾—
            const techFields = Array.from(document.querySelectorAll('input[id^="tech-"]:checked'))
                .map(checkbox => checkbox.value);
            
            return {
                companyName: document.getElementById('companyName').value,
                companyNameEn: document.getElementById('companyNameEn').value,
                companyType: document.getElementById('companyType').value,
                establishedYear: document.getElementById('establishedYear').value,
                employeeCount: document.getElementById('employeeCount').value,
                website: document.getElementById('website').value,
                companyDescription: document.getElementById('companyDescription').value,
                prefecture: document.getElementById('prefecture').value,
                city: document.getElementById('city').value,
                fullAddress: document.getElementById('fullAddress').value,
                nearestStation: document.getElementById('nearestStation').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                faxNumber: document.getElementById('faxNumber').value,
                contactEmail: document.getElementById('contactEmail').value,
                hrEmail: document.getElementById('hrEmail').value,
                specialFields: specialFields,
                techFields: techFields,
                companyStrengths: document.getElementById('companyStrengths').value
            };
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
        function handleFormSubmit(e) {
            e.preventDefault();
            
            const saveBtn = document.getElementById('saveBtn');
            saveBtn.disabled = true;
            saveBtn.innerHTML = 'ğŸ’¾ ä¿å­˜ä¸­...';
            
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            const formData = getFormData();
            
            // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            if (!validateForm(formData)) {
                saveBtn.disabled = false;
                saveBtn.innerHTML = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
                return;
            }
            
            // ä¿å­˜å‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
            setTimeout(() => {
                saveCompanyData(formData);
                saveBtn.disabled = false;
                saveBtn.innerHTML = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
                showNotification('ä¼æ¥­æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸ', 'success');
            }, 2000);
        }
        
        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateForm(data) {
            const required = [
                { field: 'companyName', message: 'ä¼æ¥­åã¯å¿…é ˆã§ã™' },
                { field: 'companyType', message: 'ä¼æ¥­å½¢æ…‹ã‚’é¸æŠã—ã¦ãã ã•ã„' },
                { field: 'companyDescription', message: 'ä¼æ¥­ç´¹ä»‹ã¯å¿…é ˆã§ã™' },
                { field: 'prefecture', message: 'éƒ½é“åºœçœŒã‚’é¸æŠã—ã¦ãã ã•ã„' },
                { field: 'city', message: 'å¸‚åŒºç”ºæ‘ã¯å¿…é ˆã§ã™' },
                { field: 'fullAddress', message: 'ä½æ‰€ã¯å¿…é ˆã§ã™' },
                { field: 'phoneNumber', message: 'é›»è©±ç•ªå·ã¯å¿…é ˆã§ã™' },
                { field: 'contactEmail', message: 'é€£çµ¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™' }
            ];
            
            for (const req of required) {
                if (!data[req.field] || data[req.field].trim() === '') {
                    alert(req.message);
                    document.getElementById(req.field).focus();
                    return false;
                }
            }
            
            // å°‚é–€åˆ†é‡ãƒã‚§ãƒƒã‚¯
            if (data.specialFields.length === 0) {
                alert('å°‚é–€åˆ†é‡ã‚’æœ€ä½1ã¤é¸æŠã—ã¦ãã ã•ã„');
                return false;
            }
            
            return true;
        }
        
        // ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
        function saveCompanyData(data) {
            const sessionData = localStorage.getItem('admin_session');
            if (!sessionData) return;
            
            const session = JSON.parse(sessionData);
            const companyId = session.companyId;
            
            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼ˆå®Ÿéš›ã¯APIã«é€ä¿¡ï¼‰
            const storageKey = `company_data_${companyId}`;
            localStorage.setItem(storageKey, JSON.stringify({
                ...data,
                lastUpdated: new Date().toISOString()
            }));
            
            console.log('ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸ:', data);
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
        function resetForm() {
            if (confirm('å…¥åŠ›å†…å®¹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿä¿å­˜ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ã¯å¤±ã‚ã‚Œã¾ã™ã€‚')) {
                document.getElementById('companyForm').reset();
                document.getElementById('logoPreview').innerHTML = '';
                document.getElementById('officePreview').innerHTML = '';
                loadCompanyData(); // å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚’å†èª­ã¿è¾¼ã¿
            }
        }
        
        // èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆå…±é€šæ©Ÿèƒ½ï¼‰
        function checkAuthentication() {
            const sessionData = localStorage.getItem('admin_session');
            if (!sessionData) {
                window.location.href = 'admin-login.html';
                return;
            }
        }
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’èª­ã¿è¾¼ã¿
        function loadUserInfo() {
            const sessionData = localStorage.getItem('admin_session');
            if (!sessionData) return;
            
            const session = JSON.parse(sessionData);
            const firstChar = session.companyName.charAt(0);
            document.getElementById('userAvatar').textContent = firstChar;
        }
        
        // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        function logout() {
            if (confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('admin_session');
                window.location.href = 'admin-login.html';
            }
        }
        
        // é€šçŸ¥è¡¨ç¤ºæ©Ÿèƒ½
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 10001;
                opacity: 0;
                transform: translateY(-20px);
                transition: all 0.3s ease;
            `;
            
            const colors = {
                'success': '#28a745',
                'error': '#dc3545',
                'info': '#17a2b8'
            };
            notification.style.background = colors[type] || colors.info;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateY(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        console.log('ğŸ¢ Patent Hub ä¼æ¥­æƒ…å ±ç·¨é›† - åˆæœŸåŒ–å®Œäº†');
    </script>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Patent Hub</h4>
                    <p>çŸ¥çš„è²¡ç”£æ¥­ç•Œã®æƒ…å ±ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </p>
                </div>
                <div class="footer-section">
                    <h4>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h4>
                    <ul>
                        <li><a href="news.html">ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
                        <li><a href="jobs.html">æ±‚äºº</a></li>
                        <li><a href="seminars.html">ã‚»ãƒŸãƒŠãƒ¼</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ã‚µãƒãƒ¼ãƒˆ</h4>
                    <ul>
                        <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
                        <li><a href="terms.html">åˆ©ç”¨è¦ç´„</a></li>
                        <li><a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h4>
                    <ul>
                        <li><a href="admin-login.html">ä¼æ¥­ç®¡ç†è€…</a></li>
                        <li><a href="system-admin-login.html">ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Patent Hub. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>