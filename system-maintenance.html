<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç† | Patent Hub ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†</title>
    <meta name="description" content="Patent Hub ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å°‚ç”¨ - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®šã¨ç®¡ç†">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ç”»é¢å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .system-admin-body {
            background: #f5f6fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å°‚ç”¨ãƒ†ãƒ¼ãƒï¼‰ */
        .system-admin-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-bottom: 3px solid #e74c3c;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .system-admin-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .system-admin-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
        }

        .system-admin-logo-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.4rem;
        }

        /* ãƒ‘ãƒ³ããšãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .breadcrumb {
            background: white;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .breadcrumb-list {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            list-style: none;
            margin: 0;
            padding: 0;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb-link {
            color: #6c757d;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb-link:hover {
            color: #e74c3c;
        }

        .breadcrumb-current {
            color: #2c3e50;
            font-weight: 600;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .system-admin-main {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .page-header {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .page-subtitle {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        /* å±é™ºè­¦å‘ŠãƒãƒŠãƒ¼ */
        .danger-banner {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            border: 3px solid #922b21;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }

        .danger-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ¼ãƒ‰ */
        .status-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
        }

        .status-active {
            border-left: 4px solid #27ae60;
        }

        .status-maintenance {
            border-left: 4px solid #e74c3c;
        }

        .status-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .status-text {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .status-description {
            color: #6c757d;
            font-size: 1.1rem;
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
        }

        /* ãƒ•ã‚©ãƒ¼ãƒ  */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: #e67e22;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* ãƒœã‚¿ãƒ³ */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 1rem;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
        }

        /* è­¦å‘Šãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
        .warning-checkbox {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
        }

        .warning-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }

        .warning-checkbox label {
            color: #856404;
            font-weight: 600;
            cursor: pointer;
        }

        /* ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« */
        .schedule-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        /* å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ« */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .history-table th {
            background: #f8f9fa;
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid #e9ecef;
            font-weight: 600;
            color: #495057;
        }

        .history-table td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            vertical-align: middle;
        }

        .history-table tr:hover {
            background: #f8f9fa;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 768px) {
            .system-admin-header .container,
            .system-admin-main,
            .breadcrumb-list {
                padding: 0 1rem;
            }

            .schedule-grid {
                grid-template-columns: 1fr;
            }

            .history-table {
                font-size: 0.9rem;
            }

            .history-table th,
            .history-table td {
                padding: 0.75rem 0.5rem;
            }
        }
    </style>
</head>
<body class="system-admin-body">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="system-admin-header">
        <div class="container">
            <a href="index.html" class="system-admin-logo" style="text-decoration: none; color: inherit;">
                <div class="system-admin-logo-icon">ğŸ›¡ï¸</div>
                <span>Patent Hub ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†</span>
            </a>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="color: white; font-weight: 600;">ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</span>
                <button onclick="systemLogout()" style="background: transparent; border: 2px solid #e74c3c; color: #e74c3c; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer;">
                    ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                </button>
            </div>
        </div>
    </header>

    <!-- ãƒ‘ãƒ³ããšãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="breadcrumb">
        <ul class="breadcrumb-list">
            <li><a href="system-admin-dashboard.html" class="breadcrumb-link">ğŸ›¡ï¸ ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†</a></li>
            <li>â€º</li>
            <li class="breadcrumb-current">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç†</li>
        </ul>
    </nav>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="system-admin-main">
        <!-- ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="page-header">
            <h1 class="page-title">ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç†</h1>
            <p class="page-subtitle">ã‚µã‚¤ãƒˆå…¨ä½“ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨­å®šã¨äºˆç´„ç®¡ç†</p>
        </div>

        <!-- å±é™ºè­¦å‘ŠãƒãƒŠãƒ¼ -->
        <div class="danger-banner">
            <div class="danger-icon">âš ï¸</div>
            <strong>é‡è¦ãªè­¦å‘Š</strong><br>
            ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã¯ Patent Hub ã‚µã‚¤ãƒˆå…¨ä½“ã‚’åœæ­¢ã—ã¾ã™ã€‚<br>
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã€ä¼æ¥­ç®¡ç†æ©Ÿèƒ½ã€ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ä¸å¯ã¨ãªã‚Šã¾ã™ã€‚<br>
            <strong>æ…é‡ã«æ“ä½œã—ã¦ãã ã•ã„ã€‚</strong>
        </div>

        <!-- ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
        <div class="status-card status-active" id="maintenanceStatus">
            <div class="status-icon">âœ…</div>
            <div class="status-text">ã‚µã‚¤ãƒˆç¨¼åƒä¸­</div>
            <div class="status-description">ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™</div>
        </div>

        <!-- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹åˆ¶å¾¡ -->
        <div class="section">
            <h2 class="section-title">
                ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹åˆ¶å¾¡
            </h2>
            
            <div class="form-group">
                <label class="form-label">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ç†ç”±</label>
                <select class="form-select" id="maintenanceReason">
                    <option value="">ç†ç”±ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="database">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</option>
                    <option value="server">ã‚µãƒ¼ãƒãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</option>
                    <option value="security">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒé©ç”¨</option>
                    <option value="feature">æ–°æ©Ÿèƒ½è¿½åŠ ãƒ»ä¿®æ­£</option>
                    <option value="emergency">ç·Šæ€¥ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</option>
                    <option value="other">ãã®ä»–</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹</label>
                <textarea class="form-textarea" id="maintenanceDescription" placeholder="ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®è©³ç´°å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">äºˆæƒ³å¾©æ—§æ™‚é–“</label>
                <select class="form-select" id="estimatedDuration">
                    <option value="30min">30åˆ†</option>
                    <option value="1hour">1æ™‚é–“</option>
                    <option value="2hours">2æ™‚é–“</option>
                    <option value="4hours">4æ™‚é–“</option>
                    <option value="8hours">8æ™‚é–“</option>
                    <option value="unknown">ä¸æ˜</option>
                </select>
            </div>

            <div class="warning-checkbox">
                <input type="checkbox" id="confirmMaintenance">
                <label for="confirmMaintenance">
                    âš ï¸ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã®å½±éŸ¿ã‚’ç†è§£ã—ã€å®Ÿè¡Œã™ã‚‹æ„å›³ã‚’ç¢ºèªã—ã¾ã—ãŸ
                </label>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button class="btn btn-danger" onclick="activateMaintenance()">
                    ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹é–‹å§‹
                </button>
                <button class="btn btn-success" onclick="deactivateMaintenance()" style="display: none;" id="deactivateBtn">
                    âœ… ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº†
                </button>
            </div>
        </div>

        <!-- äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ -->
        <div class="section">
            <h2 class="section-title">
                ğŸ“… äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
            </h2>
            
            <div class="schedule-grid">
                <div class="form-group">
                    <label class="form-label">é–‹å§‹æ—¥æ™‚</label>
                    <input type="datetime-local" class="form-input" id="scheduleStart">
                </div>
                
                <div class="form-group">
                    <label class="form-label">çµ‚äº†æ—¥æ™‚</label>
                    <input type="datetime-local" class="form-input" id="scheduleEnd">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹</label>
                <textarea class="form-textarea" id="scheduleDescription" placeholder="äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button class="btn btn-secondary" onclick="scheduleMaintenanceReminder()">
                    ğŸ“… ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆç´„
                </button>
            </div>
        </div>

        <!-- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å±¥æ­´ -->
        <div class="section">
            <h2 class="section-title">
                ğŸ“‹ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å±¥æ­´
            </h2>
            
            <table class="history-table">
                <thead>
                    <tr>
                        <th>å®Ÿæ–½æ—¥æ™‚</th>
                        <th>ç†ç”±</th>
                        <th>ç¶™ç¶šæ™‚é–“</th>
                        <th>å®Ÿæ–½è€…</th>
                        <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                    </tr>
                </thead>
                <tbody id="maintenanceHistory">
                    <tr>
                        <td>2025-08-10 02:00 - 04:30</td>
                        <td>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</td>
                        <td>2æ™‚é–“30åˆ†</td>
                        <td>ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</td>
                        <td><span style="color: #27ae60; font-weight: 600;">å®Œäº†</span></td>
                    </tr>
                    <tr>
                        <td>2025-08-05 01:00 - 03:00</td>
                        <td>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒé©ç”¨</td>
                        <td>2æ™‚é–“</td>
                        <td>ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</td>
                        <td><span style="color: #27ae60; font-weight: 600;">å®Œäº†</span></td>
                    </tr>
                    <tr>
                        <td>2025-07-28 03:00 - 05:00</td>
                        <td>æ–°æ©Ÿèƒ½è¿½åŠ ãƒ»ä¿®æ­£</td>
                        <td>2æ™‚é–“</td>
                        <td>ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</td>
                        <td><span style="color: #27ae60; font-weight: 600;">å®Œäº†</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <\!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Patent Hub</h4>
                    <p>çŸ¥çš„è²¡ç”£æ¥­ç•Œã®æƒ…å ±ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </p>
                </div>
                <div class="footer-section">
                    <h4>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h4>
                    <ul>
                        <li><a href="news.html">ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
                        <li><a href="jobs.html">æ±‚äºº</a></li>
                        <li><a href="seminars.html">ã‚»ãƒŸãƒŠãƒ¼</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ã‚µãƒãƒ¼ãƒˆ</h4>
                    <ul>
                        <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
                        <li><a href="terms.html">åˆ©ç”¨è¦ç´„</a></li>
                        <li><a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h4>
                    <ul>
                        <li><a href="admin-login.html">ä¼æ¥­ç®¡ç†è€…</a></li>
                        <li><a href="system-admin-login.html">ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Patent Hub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç†æ©Ÿèƒ½
        let isMaintenanceMode = false;

        document.addEventListener('DOMContentLoaded', function() {
            console.log('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç†ç”»é¢ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
            checkSystemAuthentication();
            initializeDateInputs();
        });

        // ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…èªè¨¼ãƒã‚§ãƒƒã‚¯
        function checkSystemAuthentication() {
            const sessionData = localStorage.getItem('system_admin_session');
            if (!sessionData) {
                window.location.href = 'system-admin-login.html';
                return;
            }
        }

        // æ—¥æ™‚å…¥åŠ›åˆæœŸåŒ–
        function initializeDateInputs() {
            const now = new Date();
            const tomorrow = new Date(now.getTime() + 24 * 60 * 60 * 1000);
            
            // äºˆç´„é–‹å§‹æ™‚é–“ï¼šæ˜æ—¥ã®æ·±å¤œ2æ™‚ã«è¨­å®š
            tomorrow.setHours(2, 0, 0, 0);
            document.getElementById('scheduleStart').value = tomorrow.toISOString().slice(0, 16);
            
            // äºˆç´„çµ‚äº†æ™‚é–“ï¼šæ˜æ—¥ã®æœ5æ™‚ã«è¨­å®š
            tomorrow.setHours(5, 0, 0, 0);
            document.getElementById('scheduleEnd').value = tomorrow.toISOString().slice(0, 16);
        }

        // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹é–‹å§‹
        function activateMaintenance() {
            const reason = document.getElementById('maintenanceReason').value;
            const description = document.getElementById('maintenanceDescription').value.trim();
            const duration = document.getElementById('estimatedDuration').value;
            const confirmed = document.getElementById('confirmMaintenance').checked;

            if (!reason) {
                showNotification('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ç†ç”±ã‚’é¸æŠã—ã¦ãã ã•ã„', 'error');
                return;
            }

            if (!description) {
                showNotification('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            if (!confirmed) {
                showNotification('ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            const confirmMessage = `âš ï¸ PATENT HUB ã‚’ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã«ã—ã¾ã™

ç†ç”±: ${reason}
å†…å®¹: ${description}
äºˆæƒ³å¾©æ—§æ™‚é–“: ${duration}

ã“ã®æ“ä½œã«ã‚ˆã‚Šï¼š
- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒåˆ¶é™ã•ã‚Œã¾ã™
- ä¼æ¥­ç®¡ç†æ©Ÿèƒ½ãŒåœæ­¢ã—ã¾ã™
- ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ä¸å¯ã¨ãªã‚Šã¾ã™

æœ¬å½“ã«å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ`;

            if (!confirm(confirmMessage)) return;

            // ã•ã‚‰ã«ç¢ºèª
            const finalConfirm = prompt('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã«ã¯ã€ŒMAINTENANCEã€ã¨å…¥åŠ›ã—ã¦ãã ã•ã„:');
            if (finalConfirm !== 'MAINTENANCE') {
                showNotification('ç¢ºèªãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“', 'error');
                return;
            }

            // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰é–‹å§‹
            isMaintenanceMode = true;
            updateMaintenanceStatus();
            
            showNotification('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã—ãŸ', 'warning');
            logCriticalEvent(`ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰é–‹å§‹: ${reason} - ${description}`, 'CRITICAL');
            
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('maintenanceReason').value = '';
            document.getElementById('maintenanceDescription').value = '';
            document.getElementById('confirmMaintenance').checked = false;
            
            // å±¥æ­´ã«è¿½åŠ 
            addMaintenanceHistory(reason, 'é–‹å§‹');
        }

        // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº†
        function deactivateMaintenance() {
            if (!confirm('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’çµ‚äº†ã—ã€ã‚µã‚¤ãƒˆã‚’é€šå¸¸é‹ç”¨ã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ')) return;

            isMaintenanceMode = false;
            updateMaintenanceStatus();
            
            showNotification('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’çµ‚äº†ã—ã¾ã—ãŸ', 'success');
            logCriticalEvent('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰çµ‚äº†', 'CRITICAL');
            
            // å±¥æ­´ã«è¿½åŠ 
            addMaintenanceHistory('é€šå¸¸é‹ç”¨å¾©æ—§', 'çµ‚äº†');
        }

        // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ³æ›´æ–°
        function updateMaintenanceStatus() {
            const statusCard = document.getElementById('maintenanceStatus');
            const deactivateBtn = document.getElementById('deactivateBtn');
            
            if (isMaintenanceMode) {
                statusCard.className = 'status-card status-maintenance';
                statusCard.innerHTML = `
                    <div class="status-icon">ğŸ”§</div>
                    <div class="status-text">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­</div>
                    <div class="status-description">ã‚µã‚¤ãƒˆã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã™ - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ä¸­</div>
                `;
                deactivateBtn.style.display = 'inline-flex';
            } else {
                statusCard.className = 'status-card status-active';
                statusCard.innerHTML = `
                    <div class="status-icon">âœ…</div>
                    <div class="status-text">ã‚µã‚¤ãƒˆç¨¼åƒä¸­</div>
                    <div class="status-description">ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™</div>
                `;
                deactivateBtn.style.display = 'none';
            }
        }

        // äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
        function scheduleMaintenanceReminder() {
            const startTime = document.getElementById('scheduleStart').value;
            const endTime = document.getElementById('scheduleEnd').value;
            const description = document.getElementById('scheduleDescription').value.trim();

            if (!startTime || !endTime) {
                showNotification('é–‹å§‹æ—¥æ™‚ã¨çµ‚äº†æ—¥æ™‚ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            if (!description) {
                showNotification('äºˆç´„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            const startDate = new Date(startTime);
            const endDate = new Date(endTime);

            if (startDate >= endDate) {
                showNotification('çµ‚äº†æ—¥æ™‚ã¯é–‹å§‹æ—¥æ™‚ã‚ˆã‚Šå¾Œã«è¨­å®šã—ã¦ãã ã•ã„', 'error');
                return;
            }

            if (startDate <= new Date()) {
                showNotification('é–‹å§‹æ—¥æ™‚ã¯ç¾åœ¨æ™‚åˆ»ã‚ˆã‚Šå¾Œã«è¨­å®šã—ã¦ãã ã•ã„', 'error');
                return;
            }

            showNotification(`ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆç´„ã‚’è¨­å®šã—ã¾ã—ãŸ\n${startDate.toLocaleString()} - ${endDate.toLocaleString()}`, 'success');
            logCriticalEvent(`ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆç´„è¨­å®š: ${startDate.toLocaleString()} - ${description}`, 'SYSTEM');
            
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('scheduleDescription').value = '';
        }

        // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å±¥æ­´è¿½åŠ 
        function addMaintenanceHistory(reason, status) {
            const historyBody = document.getElementById('maintenanceHistory');
            const now = new Date();
            const timeString = now.toLocaleString();
            
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${timeString}</td>
                <td>${reason}</td>
                <td>${status === 'é–‹å§‹' ? 'å®Ÿè¡Œä¸­...' : 'å®Œäº†'}</td>
                <td>ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…</td>
                <td><span style="color: ${status === 'é–‹å§‹' ? '#f39c12' : '#27ae60'}; font-weight: 600;">${status}</span></td>
            `;
            
            historyBody.insertBefore(newRow, historyBody.firstChild);
        }

        // é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°
        function logCriticalEvent(action, level) {
            console.log(`ğŸš¨ [${level}] ${new Date().toLocaleString()}: ${action}`);
        }

        // ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        function systemLogout() {
            if (isMaintenanceMode) {
                alert('ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ä¸­ã¯ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã§ãã¾ã›ã‚“ã€‚å…ˆã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’çµ‚äº†ã—ã¦ãã ã•ã„ã€‚');
                return;
            }
            
            if (confirm('ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('system_admin_session');
                window.location.href = 'system-admin-login.html';
            }
        }

        // é€šçŸ¥è¡¨ç¤º
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 10001;
                opacity: 0;
                transform: translateY(-20px);
                transition: all 0.3s ease;
                min-width: 300px;
                white-space: pre-line;
            `;

            const colors = {
                'success': '#27ae60',
                'error': '#e74c3c',
                'warning': '#f39c12',
                'info': '#3498db'
            };

            notification.style.background = colors[type] || colors.info;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateY(0)';
            }, 100);

            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã®è­¦å‘Šï¼ˆãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ä¸­ï¼‰
        window.addEventListener('beforeunload', function(e) {
            if (isMaintenanceMode) {
                const message = 'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ä¸­ã§ã™ã€‚ãƒšãƒ¼ã‚¸ã‚’é›¢ã‚Œã‚‹å‰ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’çµ‚äº†ã—ã¦ãã ã•ã„ã€‚';
                e.returnValue = message;
                return message;
            }
        });

        console.log('ğŸ”§ Patent Hub ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç®¡ç† - åˆæœŸåŒ–å®Œäº†');
    </script>
</body>
</html>